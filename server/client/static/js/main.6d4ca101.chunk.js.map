{"version":3,"sources":["schemas.js","types.js","actions/postActions.js","actions/userActions.js","images/image-placeholder.svg","images/link-post.svg","images/reddit-default.svg","webpack:///./src/images/down-arrow.svg?0968","webpack:///./src/images/up-arrow.svg?3f43","components/Post.jsx","components/Login.jsx","components/Signup.jsx","components/Home.jsx","images/magnifying-glass.svg","images/Triangle.svg","components/Navbar.jsx","components/NewPost.jsx","actions/commentActions.js","images/down-arrow.svg","images/edit.svg","images/up-arrow.svg","components/Comment.jsx","components/PostModal.jsx","App.js","reducers/reducer.js","index.js","store/store.js","localStorage.js"],"names":["comment","schema","Entity","idAttribute","define","comments","post","REQUEST_POSTS","RECEIVE_POSTS","RECEIVE_SINGLE_POSTS","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_ERROR","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_ERROR","CURRENT_USER","POST_CREATION_CHANGE_SUBMISSION_TYPE","NEW_POST_SUCCESS","NEW_POST_REQUEST","NEW_COMMENT_SUCCESS","NEW_REPLY_REQUEST","NEW_REPLY_SUCCESS","VOTE_CAST","NEXT_PAGE","PREV_PAGE","DELETE_POST","EDIT_POST","LOG_OUT","CLEAR_ERROR","SET_POST_MODAL","SPLICED_POST","REFRESH_USER","UNAUTHORIZED_ERROR","SORT_POSTS","CLEAR_LOGIN_MODAL","REQUEST_USER_INFO","DARK_MODE_ENABLED","DARK_MODE_DISABLED","requestPosts","e","type","changePostSubmissionType","postType","dispatch","getState","currentValue","changeNewSubmissionType","submissionType","changePoint","point","postId","currentPostId","currentVoteState","posts","byId","voteState","axios","url","method","withCredentials","submitPost","form","data","then","res","status","id","_id","submitPostSuccess","getNormalizeData","myData","params","normalize","fetchPosts","query","Promise","resolve","reject","sort","normalizedData","offset","nextPage","fetchSinglePost","retryCount","logOut","localStorage","removeItem","login","username","password","loginSuccess","jwt_token","token","setItem","catch","signup","passwordConfirm","err","passwordError","error","response","interceptors","request","use","config","accessToken","getItem","headers","originalRequest","_retry","defaults","common","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","transform","d","SvgDownArrow","_ref","svgRef","title","titleId","props","width","height","viewBox","ref","undefined","ForwardRef","SvgUpArrow","Post","history","useState","deleteButton","setDelete","setActive","match","useDispatch","checkDisplay","useSelector","state","display","currentUser","postStatus","listings","confirmedDelete","deletePost","className","author","onClick","to","pathname","modal","alt","voteTotal","React","memo","prev","next","Login","setUsername","setPassword","isLoggedIn","handleLogin","x","window","location","reload","close","onChange","value","placeholder","onKeyDown","Signup","setPasswordConfirm","user","useEffect","Home","postsToDisplay","allPosts","dataLoaded","setDataLoaded","useLocation","loggedIn","useParams","listingOrder","sortOrder","currentIds","queryParams","search","offSetId","after","URLSearchParams","get","before","map","bottomRef","useCallback","node","shouldFetch","observer","IntersectionObserver","entries","intersectionRatio","disconnect","observe","threshold","splitUrl","split","listing","handlePostType","handleShowLogin","showSignup","src","defaultPic","imagePost","linkPost","withRouter","dropdown","setDropDown","searchInput","setSearchInput","searchContent","setSearchContent","searchActive","setSearchActive","currentModal","allIds","flattened","handleDarkMode","handleSearchContent","a","trimStart","trimmed","filter","RegExp","test","filtered","handleCloseSearch","closeSearch","document","body","addEventListener","removeEventListener","replace","style","overflow","newPost","path","searchicon","backgroundColor","triangle","handleShowSignup","htmlFor","NewPost","newQuery","newQuery2","useHistory","setTitle","text","setText","imagedata","setImage","submitCheck","submitted","fetchingLogin","fetching","reRouteId","push","replaceState","action","files","name","cols","rows","preventDefault","FormData","append","uploadForm","newComment","content","savedComment","parentId","newCommentSuccess","changeCommentPoint","commentId","currentCommentId","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","SvgEdit","Comment","lines","setLines","replyText","setReplyText","replyToggle","setReplyToggle","linesArr","depth","left","position","paddingLeft","paddingTop","line","upvote","downvote","authorName","reply","newReply","connect","ownProps","commentText","setCommentText","edit","setEdit","editText","setEditText","currentPost","handleReroute","saveEdit","date","Date","createdAt","formatDate","Intl","DateTimeFormat","format","commentsArr","postComments","findAllComments","currentComments","stopPropagation","image","allComments","showLogin","setLogin","setFetchingLogin","setShowSignup","loggedInStatus","signedUpStatus","isSignedUp","closeModal","handleShowNextPage","lastId","exact","render","props2","combineArrays","arr1","arr2","combined","concat","set","Set","addComment","changePostPoint","handlePostSubmission","submitting","createdPosts","editPostReduce","handlePreviousPage","incomingIds","result","isFetching","entities","handleNextPage","setListings","receievePosts","setPostModal","addCommentEntry","rootReducer","combineReducers","allId","firstId","newObj","splicedArray","filteredPosts","isLoggingIn","isSigningUp","userInfo","store","preloadedState","persistedState","serializedState","JSON","parse","loadState","composeEnhancers","composeWithDevTools","trace","createStore","applyMiddleware","thunkMiddleware","configureStore","createBrowserHistory","ReactDOM","StrictMode","component","App","getElementById"],"mappings":"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","file":"static/js/main.6d4ca101.chunk.js","sourcesContent":["import { schema } from \"normalizr\";\nexport const comment = new schema.Entity(\n  \"comments\",\n  {},\n  { idAttribute: \"_id\" }\n);\ncomment.define({\n  comments: [comment],\n});\nexport const post = new schema.Entity(\n  \"posts\",\n  {\n    comments: [comment],\n  },\n  { idAttribute: \"_id\" }\n);\n","export const REQUEST_POSTS = \"REQUEST_POSTS\";\nexport const RECEIVE_POSTS = \"RECEIVE_POSTS\";\nexport const REQUEST_SINGLE_POST = \"REQUEST_SINGLE_POST\";\nexport const RECEIVE_SINGLE_POSTS = \"RECEIVE_SINGLE_POSTS\";\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\nexport const SIGNUP_REQUEST = \"SIGNUP_REQUEST\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_ERROR = \"SIGNUP_ERROR\";\nexport const CURRENT_USER = \"CURRENT_USER\";\nexport const POST_CREATION_CHANGE_SUBMISSION_TYPE =\n  \"POST_CREATION_CHANGE_SUBMISSION_TYPE\";\nexport const NEW_POST_SUCCESS = \"NEW_POST_SUCCESS\";\nexport const NEW_POST_REQUEST = \"NEW_POST_REQUEST\";\nexport const RESET_POST = \"RESET_POST\";\nexport const NEW_COMMENT_REQUEST = \"NEW_COMMENT_REQUEST\";\nexport const NEW_COMMENT_SUCCESS = \"NEW_COMMENT_SUCCESS\";\nexport const CHANGE_TO_MEDIA = \"CHANGE_TO_MEDIA\";\nexport const NEW_REPLY_REQUEST = \"NEW_REPLY_REQUEST\";\nexport const NEW_REPLY_SUCCESS = \"NEW_REPLY_SUCCESS\";\nexport const VOTE_CAST = \"VOTE_CAST\";\nexport const NEXT_PAGE = \"NEXT_PAGE\";\nexport const PREV_PAGE = \"PREV_PAGE\";\nexport const DELETE_POST = \"DELETE_POST\";\nexport const EDIT_POST = \"EDIT_POST\";\nexport const LOG_OUT = \"LOG_OUT\";\nexport const CLEAR_ERROR = \"CLEAR_ERROR\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\nexport const SET_POST_MODAL = \"SET_POST_MODAL\";\nexport const SPLICED_POST = \"SPLICED_POST\";\nexport const REFRESH_USER = \"REFRESH_USER\";\nexport const SET_POST = \"SET_POST\";\nexport const UNAUTHORIZED_ERROR = \"UNAUTHORIZED_ERROR\";\nexport const SORT_POSTS = \"SORT_POSTS\";\nexport const SORT_POSTS_REQUEST = \"SORT_POSTS_REQUEST\";\nexport const GET_SINGLE_POST = \"GET_SINGLE_POST\";\nexport const CLEAR_LOGIN_MODAL = \"CLEAR_LOGIN_MODAL\";\nexport const REQUEST_USER_INFO = \"REQUEST_USER_INFO\";\nexport const DARK_MODE_ENABLED = \"DARK_MODE_ENABLED\";\nexport const DARK_MODE_DISABLED = \"DARK_MODE_DISABLED\";\n","import axios from \"axios\";\nimport { normalize } from \"normalizr\";\nimport { post } from \"../schemas\";\nimport {\n  DELETE_POST,\n  EDIT_POST,\n  NEW_POST_REQUEST,\n  NEW_POST_SUCCESS,\n  NEXT_PAGE,\n  POST_CREATION_CHANGE_SUBMISSION_TYPE,\n  PREV_PAGE,\n  RECEIVE_POSTS,\n  RECEIVE_SINGLE_POSTS,\n  REQUEST_POSTS,\n  REQUEST_SINGLE_POST,\n  RESET_POST,\n  SET_POST,\n  SET_POST_MODAL,\n  SORT_POSTS,\n  VOTE_CAST,\n} from \"../types\";\nfunction requestPosts(e) {\n  return {\n    type: REQUEST_POSTS,\n    e,\n  };\n}\nfunction submitPostSuccess(post) {\n  let id = post._id;\n  post[\"newPost\"] = true;\n  return (dispatch) => {\n    dispatch({ type: NEW_POST_SUCCESS, post, id });\n  };\n}\nexport function newPostSubmissionType(postType) {\n  return (dispatch) => {\n    dispatch({ type: POST_CREATION_CHANGE_SUBMISSION_TYPE, postType });\n  };\n}\nexport function changePostSubmissionType(postType) {\n  return (dispatch, getState) => {\n    let currentValue = getState().changeNewSubmissionType.submissionType;\n    if (postType === currentValue) {\n      return;\n    } else {\n      dispatch({\n        type: POST_CREATION_CHANGE_SUBMISSION_TYPE,\n        postType,\n      });\n    }\n  };\n}\nexport function changePoint(point, postId) {\n  return (dispatch, getState) => {\n    let currentPostId = postId;\n    let currentPost = getState().posts.byId[currentPostId];\n    let currentVoteState = currentPost.voteState;\n    dispatch({\n      type: VOTE_CAST,\n      postId,\n      point,\n      currentVoteState,\n    });\n    if (point === 1) {\n      return axios({\n        url: `/api/posts/vote-up/${currentPostId}`,\n        method: \"PUT\",\n        withCredentials: true,\n      });\n    }\n    if (point === -1) {\n      return axios({\n        url: `/api/posts/vote-down/${currentPostId}`,\n        method: \"PUT\",\n        withCredentials: true,\n      });\n    }\n  };\n}\nexport function setPostModal(post) {\n  return {\n    type: SET_POST_MODAL,\n    post,\n  };\n}\nexport function submitPostAttempt() {\n  return {\n    type: NEW_POST_REQUEST,\n  };\n}\nexport function submitPost(form) {\n  return (dispatch) => {\n    return axios({\n      url: `/api/post/new/`,\n      method: \"POST\",\n      data: form,\n      withCredentials: true,\n    }).then((res) => {\n      if (res.status === 200) {\n        dispatch(submitPostSuccess(res.data));\n      }\n    });\n  };\n}\nfunction requestSinglePost() {\n  return {\n    type: REQUEST_SINGLE_POST,\n  };\n}\nexport function reset() {\n  return {\n    type: RESET_POST,\n  };\n}\nfunction getNormalizeData(myData, params) {\n  const normalizedData = normalize(myData.posts, [post]);\n  return normalizedData;\n}\nexport function sortPosts() {}\nexport function deletePost(postId, params) {\n  return (dispatch) => {\n    dispatch({\n      type: DELETE_POST,\n      postId,\n      params: params ? params : \"default\",\n    });\n    return axios({\n      url: `/api/delete/${postId}`,\n      method: \"DELETE\",\n      withCredentials: true,\n    });\n  };\n}\nexport function editPost(postId, content) {\n  return (dispatch) => {\n    dispatch({ type: EDIT_POST, postId, content });\n    return axios({\n      url: `/api/edit/${postId}`,\n      method: \"PUT\",\n      withCredentials: true,\n      data: {\n        content: content,\n      },\n    });\n  };\n}\nexport function fetchPosts(query, id, params, e) {\n  return (dispatch) => {\n    dispatch(requestPosts(e));\n    return new Promise((resolve, reject) => {\n      axios({\n        url: `/api/posts/${params && params.sort ? params.sort : \"\"}${\n          query ? `?${query}=${id}` : \"\"\n        }`,\n        method: \"GET\",\n        withCredentials: true,\n      }).then((res) => {\n        resolve(res.status);\n        const normalizedData = getNormalizeData(\n          { posts: res.data.posts },\n          params\n        );\n        dispatch({\n          type:\n            params && params.sort && e === \"click\" ? SORT_POSTS : RECEIVE_POSTS,\n          normalizedData,\n          offset: res.data.offset,\n          sort: params && params.sort ? params.sort : \"default\",\n        });\n      });\n    });\n  };\n}\nexport function prevPage(id, params) {\n  return (dispatch) => {\n    dispatch(requestPosts());\n    return new Promise((resolve) => {\n      axios({\n        url: `/api/posts/${\n          params.length > 0 ? params : \"\"\n        }?page[size]=${10}&before=${id}`,\n        method: \"GET\",\n        withCredentials: true,\n      }).then((res) => {\n        if (res.status === 200) {\n          const normalizedData = getNormalizeData(\n            { posts: res.data.posts },\n            params\n          );\n          dispatch({\n            type: PREV_PAGE,\n            normalizedData,\n            offset: res.data.offset,\n            sort: params.sort ? params.sort : \"default\",\n          });\n          resolve(\"completed\");\n        }\n      });\n    });\n  };\n}\nexport function nextPage(id, params) {\n  return (dispatch) => {\n    dispatch(requestPosts());\n    return new Promise((resolve) => {\n      axios({\n        url: `/api/posts/${\n          params && params.sort ? params.sort : \"\"\n        }?page[size]=${10}&after=${id}`,\n        method: \"GET\",\n        withCredentials: true,\n      }).then((res) => {\n        if (res.status === 200) {\n          const normalizedData = getNormalizeData(\n            { posts: res.data.posts },\n            params\n          );\n          dispatch({\n            type: NEXT_PAGE,\n            normalizedData,\n            offset: res.data.offset,\n            sort: params.sort ? params.sort : \"default\",\n          });\n          resolve(\"completed\");\n        }\n      });\n    });\n  };\n}\nexport function setPostRange(before, after) {\n  return { type: SET_POST, before, after };\n}\nexport function fetchSinglePost(id) {\n  return (dispatch) => {\n    dispatch(requestSinglePost());\n    return axios({\n      url: `/api/post/${id}`,\n      method: \"GET\",\n      withCredentials: true,\n    }).then((res) => {\n      const normalizedData = getNormalizeData({ posts: [res.data] });\n      dispatch({ normalizedData, type: RECEIVE_SINGLE_POSTS });\n    });\n  };\n}\n","import axios from \"axios\";\nimport {\n  CLEAR_LOGIN_MODAL,\n  CURRENT_USER,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOG_OUT,\n  REQUEST_USER_INFO,\n  SIGNUP_ERROR,\n  SIGNUP_REQUEST,\n  SIGNUP_SUCCESS,\n  UNAUTHORIZED_ERROR,\n} from \"../types\";\nlet retryCount = 0;\naxios.interceptors.request.use((config) => {\n  const accessToken = localStorage.getItem(\"accessToken\");\n  if (accessToken) {\n    config.headers[\"Authorization\"] = `Bearer ${accessToken}`;\n  }\n  return config;\n});\naxios.interceptors.response.use(\n  function (response) {\n    return response;\n  },\n  function (err) {\n    const originalRequest = err.config;\n    if (\n      (err.response.status === 401 || err.response.status === 403) &&\n      !originalRequest._retry &&\n      retryCount <= 2 &&\n      err.config.url !== \"/api/refresh\"\n    ) {\n      retryCount = retryCount + 1;\n      originalRequest._retry = true;\n      axios({\n        url: \"/api/refresh\",\n        method: \"POST\",\n        withCredentials: true,\n      }).then((data) => {\n        if (data.data) {\n          localStorage.setItem(\"accessToken\", data.data.jwt_token);\n          axios.defaults.headers.common[\"Authorization\"] =\n            \"Bearer \" + data.jwt_token;\n          originalRequest.headers[\"Authorization\"] =\n            \"Bearer \" + data.data.jwt_token;\n          return axios(originalRequest);\n        }\n      });\n    } else {\n      return Promise.reject(err);\n    }\n  }\n);\nfunction loginRequest() {\n  return {\n    type: LOGIN_REQUEST,\n  };\n}\nfunction loginSuccess(username, id) {\n  return (dispatch) => {\n    dispatch({\n      type: LOGIN_SUCCESS,\n      username,\n      id,\n    });\n    Promise.resolve(\"success\");\n  };\n}\nexport function logOut() {\n  return (dispatch) => {\n    return axios({\n      url: \"/api/logout\",\n      withCredentials: true,\n      method: \"POST\",\n    }).then((res) => {\n      if (res.status === 200) {\n        localStorage.removeItem(\"accessToken\");\n        return res;\n      }\n    });\n  };\n}\nfunction unauthorized() {\n  return {\n    type: UNAUTHORIZED_ERROR,\n  };\n}\nexport function login(username, password) {\n  return (dispatch) => {\n    dispatch(loginRequest());\n    return axios({\n      withCredentials: true,\n      method: \"POST\",\n      data: {\n        username: username,\n        password: password,\n      },\n      url: \"/api/login\",\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch(loginSuccess(res.data.username, res.data._id));\n          let token = res.data.jwt_token;\n          return token;\n        }\n      })\n      .then((token) => {\n        localStorage.setItem(\"accessToken\", token);\n        return \"login\";\n      })\n      .catch(() => {\n        dispatch(unauthorized());\n      });\n  };\n}\nexport function clearLoginModal() {\n  return {\n    type: CLEAR_LOGIN_MODAL,\n  };\n}\nexport function loggedIn() {\n  const token = localStorage.getItem(\"accessToken\");\n  return async (dispatch) => {\n    if (!token) {\n      return \"completed\";\n    }\n    dispatch({ type: REQUEST_USER_INFO });\n    const data = await axios({\n      withCredentials: true,\n      method: \"GET\",\n      url: \"/api/logged-in\",\n    });\n    try {\n      dispatch({\n        type: CURRENT_USER,\n        username: data.data.username,\n        user: data.data._id,\n      });\n      return \"completed\";\n    } catch (error) {\n      dispatch(logOut());\n    }\n  };\n}\nexport function signupRequest() {\n  return {\n    type: SIGNUP_REQUEST,\n  };\n}\nfunction signupSuccess() {\n  return {\n    type: SIGNUP_SUCCESS,\n  };\n}\nexport function signup(username, password, passwordConfirm) {\n  return (dispatch) => {\n    dispatch({ type: SIGNUP_REQUEST });\n    return axios({\n      url: \"/api/signup\",\n      data: {\n        username,\n        password,\n        passwordConfirm,\n      },\n      method: \"POST\",\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch(signupSuccess());\n          return \"signup\";\n        }\n      })\n      .catch((err) => {\n        let error = err.response.data;\n        let passwordError;\n        if (password !== passwordConfirm) {\n          passwordError = \"Passwords do not match\";\n        }\n        dispatch({ type: SIGNUP_ERROR, error, passwordError });\n      });\n  };\n}\n","export default __webpack_public_path__ + \"static/media/image-placeholder.1c6a32aa.svg\";","export default __webpack_public_path__ + \"static/media/link-post.cdb86b79.svg\";","export default __webpack_public_path__ + \"static/media/reddit-default.f7d549ef.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Page-1\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Desktop-(Card)\",\n  transform: \"translate(-516.000000, -289.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(428.000000, 154.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(16.000000, 134.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"down-arrow-copy\",\n  transform: \"translate(72.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.2275497,7.76096702 C12.1820052,7.65192943 12.0757255,7.58077755 11.957786,7.58077755 L8.75858504,7.58077755 L8.75858504,0.291577829 C8.75858504,0.130631897 8.62778141,0 8.4666239,0 L3.79538263,0 C3.63422512,0 3.50342149,0.130631897 3.50342149,0.291577829 L3.50342149,7.58080489 L0.291958509,7.58080489 C0.174019021,7.58080489 0.0677393658,7.65195676 0.0221948522,7.76042033 C-0.0227748808,7.86945792 0.00174908806,7.99484158 0.0852564863,8.07823934 L5.90969908,13.9142788 C5.96457693,13.9690846 6.03875099,14 6.1164011,14 C6.19405121,14 6.26822527,13.9690846 6.32310313,13.9148528 L12.1644881,8.07881337 C12.2479955,7.99538827 12.2730942,7.87003194 12.2275497,7.76096702 Z\",\n  id: \"Path\"\n}))))));\n\nfunction SvgDownArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"13px\",\n    height: \"14px\",\n    viewBox: \"0 0 13 14\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"down-arrow copy\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDownArrow);\nexport default __webpack_public_path__ + \"static/media/down-arrow.c9c98d5d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Page-1\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Desktop-(Card)\",\n  transform: \"translate(-444.000000, -289.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(428.000000, 154.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(16.000000, 134.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"down-arrow\",\n  transform: \"translate(6.500000, 8.000000) scale(1, -1) translate(-6.500000, -8.000000) translate(0.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.2275497,7.76096702 C12.1820052,7.65192943 12.0757255,7.58077755 11.957786,7.58077755 L8.75858504,7.58077755 L8.75858504,0.291577829 C8.75858504,0.130631897 8.62778141,0 8.4666239,0 L3.79538263,0 C3.63422512,0 3.50342149,0.130631897 3.50342149,0.291577829 L3.50342149,7.58080489 L0.291958509,7.58080489 C0.174019021,7.58080489 0.0677393658,7.65195676 0.0221948522,7.76042033 C-0.0227748808,7.86945792 0.00174908806,7.99484158 0.0852564863,8.07823934 L5.90969908,13.9142788 C5.96457693,13.9690846 6.03875099,14 6.1164011,14 C6.19405121,14 6.26822527,13.9690846 6.32310313,13.9148528 L12.1644881,8.07881337 C12.2479955,7.99538827 12.2730942,7.87003194 12.2275497,7.76096702 Z\",\n  id: \"Path\"\n}))))));\n\nfunction SvgUpArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"13px\",\n    height: \"14px\",\n    viewBox: \"0 0 13 14\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"down-arrow\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpArrow);\nexport default __webpack_public_path__ + \"static/media/up-arrow.927fb299.svg\";\nexport { ForwardRef as ReactComponent };","import DeleteIcon from \"@material-ui/icons/Delete\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { deletePost, fetchSinglePost } from \"../actions/postActions\";\nimport { ReactComponent as DownArrow } from \"../images/down-arrow.svg\";\nimport { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\nconst Post = ({ post, history }) => {\n  const [deleteButton, setDelete] = useState(false);\n  const [, setActive] = useState(true);\n  const params = history.match.params.sort;\n  const dispatch = useDispatch();\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const currentUser = useSelector((state) => state.currentUser._id);\n  const postStatus = useSelector((state) => state.listings.status);\n  const handleDelete = () => {\n    setDelete(!deleteButton);\n  };\n  const confirmedDelete = (postId) => {\n    dispatch(deletePost(postId, params === \"post\" ? null : params));\n    setActive(false);\n  };\n  return (\n    <>\n      <div\n        key={post._id}\n        className={`card-container ${\n          checkDisplay === \"dark\" ? \"dark-mode-card\" : \"\"\n        } `}\n      >\n        <div\n          className={`card-content-container ${\n            postStatus === \"loading\" ? \"content-loading-mask\" : \"\"\n          }`}\n        >\n          <p className={\"card-author\"}>u/{post.author.username}</p>\n          <h4 className=\"card-title\">\n            <Link\n              onClick={() => {\n                dispatch(fetchSinglePost(post._id));\n              }}\n              to={{\n                pathname: `/post/${post._id}`,\n                state: {\n                  modal: true,\n                },\n              }}\n            >\n              {post.title}\n            </Link>\n          </h4>\n          <div className=\"vote-container\">\n            <li>\n              <UpArrow\n                className={\n                  post.voteState === 1\n                    ? `home-vote-color`\n                    : `${checkDisplay === \"dark\" ? \"dark-mode-arrow\" : \"\"}`\n                }\n                alt=\"\"\n              />\n            </li>\n            <li>{post.voteTotal}</li>\n            <li>\n              <DownArrow\n                className={\n                  post.voteState === -1\n                    ? `home-vote-color`\n                    : `${checkDisplay === \"dark\" ? \"dark-mode-arrow\" : \"\"}`\n                }\n                alt=\"\"\n              />\n            </li>\n          </div>\n        </div>\n        {currentUser === post.author._id ? (\n          <div className=\"edit-del-container\">\n            <div className=\"edit-del-content\">\n              {deleteButton ? (\n                <div className=\"delete-confirm-container\">\n                  <div>\n                    <p className=\"delete-confirm\">Delete?</p>\n                  </div>\n                  <li\n                    onClick={() => confirmedDelete(post._id)}\n                    className=\"delete-button-yes\"\n                  >\n                    Yes\n                  </li>\n                  <li className=\"delete-button-slash\">/</li>\n                  <li className=\"delete-button-yes\">No</li>\n                </div>\n              ) : null}\n              <button onClick={handleDelete} className=\"delete-button\">\n                <DeleteIcon className=\"del-svg\" />\n              </button>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n};\nexport default React.memo(Post, (prev, next) => {\n  if (prev.post.voteTotal === next.post.voteTotal) {\n    return true;\n  }\n});\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"../actions/userActions\";\nconst Login = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useDispatch();\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const user = useSelector((state) => {\n    return state.login.isLoggedIn;\n  });\n  const error = useSelector((state) => {\n    return state.login.err;\n  });\n  const handleLogin = (e) => {\n    if (e.key === \"Enter\" || e.type === \"click\") {\n      dispatch(login(username, password)).then((x) => {\n        if (x === \"login\") {\n          window.location.reload();\n        }\n      });\n    }\n  };\n  if (user) {\n  }\n  return (\n    <div className=\"login-modal-wrapper\">\n      <div\n        className={`login-card-modal ${\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n        }`}\n      >\n        <div className=\"login-modal-title-exit-container\">\n          <p\n            className={`login-modal-title ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            Login\n          </p>\n          <button\n            onClick={props.close}\n            className={`login-cancel-button ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            X\n          </button>\n        </div>\n        <div className=\"login-input-container\">\n          <input\n            onChange={(e) => {\n              setUsername(e.target.value);\n            }}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"username\"\n            type=\"text\"\n          />\n          <input\n            onKeyDown={handleLogin}\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"password\"\n            type=\"password\"\n          />{\" \"}\n          <p className={`signup-error`}>{error}</p>\n          <button onClick={handleLogin} className=\"login-button\">\n            Log in\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Login;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { signup, signupRequest } from \"../actions/userActions\";\nimport { CLEAR_ERROR } from \"../types\";\nimport Login from \"./Login\";\nconst Signup = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const dispatch = useDispatch();\n  const user = useSelector((state) => {\n    return state.login.isLoggedIn;\n  });\n  const error = useSelector((state) => {\n    return state.signup.err;\n  });\n  const passwordError = useSelector((state) => {\n    return state.signup.passwordError;\n  });\n  const handleSignup = () => {\n    dispatch(signup(username, password, passwordConfirm)).then((res) => {\n      if (res === \"signup\") {\n        <Redirect to={Login}></Redirect>;\n      }\n    });\n  };\n  const handleError = () => {\n    dispatch({ type: CLEAR_ERROR });\n  };\n  if (user) {\n    window.location.reload();\n  }\n  useEffect(() => {\n    dispatch(signupRequest());\n  }, [dispatch]);\n  return (\n    <div className=\"login-modal-wrapper\">\n      <div\n        className={`login-card-modal ${\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n        }`}\n      >\n        <div className=\"login-modal-title-exit-container\">\n          <p\n            className={`login-modal-title ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            Sign up\n          </p>\n          <button\n            onClick={props.close}\n            className={`login-cancel-button ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            X\n          </button>\n        </div>\n        <div className=\"login-input-container\">\n          <input\n            onChange={(e) => {\n              setUsername(e.target.value);\n            }}\n            onClick={handleError}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"username\"\n            type=\"text\"\n          />\n          <p className={`signup-error`}>{error}</p>\n          <input\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"password\"\n            type=\"password\"\n          />\n          <p className={`signup-error`}>{passwordError}</p>\n          <input\n            onChange={(e) => {\n              setPasswordConfirm(e.target.value);\n            }}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"Confirm your password\"\n            type=\"password\"\n          />\n          <button onClick={handleSignup} className=\"login-button\">\n            Sign up\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Signup;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useParams, useLocation } from \"react-router-dom\";\nimport {\n  fetchPosts,\n  fetchSinglePost,\n  newPostSubmissionType,\n  nextPage,\n  submitPostAttempt,\n} from \"../actions/postActions\";\nimport imagePost from \"../images/image-placeholder.svg\";\nimport linkPost from \"../images/link-post.svg\";\nimport defaultPic from \"../images/reddit-default.svg\";\nimport Post from \"./Post\";\nimport Signup from \"./Signup\";\nfunction Home(props) {\n  const dispatch = useDispatch();\n  const allPosts = useSelector((state) => {\n    return state.posts.byId;\n  });\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const [dataLoaded, setDataLoaded] = useState(false);\n  const location = useLocation();\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\n  const postStatus = useSelector((state) => state.posts.status);\n  const params = useParams();\n  const listingOrder = useSelector((state) => state.listings.listingOrder);\n  const sortOrder = useSelector((state) => state.listings.sortOrder);\n  const currentIds = listingOrder[sortOrder];\n  let queryParams = props.history.location.search;\n  const offSetId = useSelector((state) => {\n    return state.posts.offset;\n  });\n  let after = new URLSearchParams(queryParams).get(\"after\");\n  let before = new URLSearchParams(queryParams).get(\"before\");\n  let query = (after && \"after\") || (before && \"before\");\n  let id = after || before;\n  let postsToDisplay;\n  if (currentIds) {\n    postsToDisplay = currentIds.map((id) => {\n      return allPosts[id];\n    });\n  }\n  const bottomRef = useCallback(\n    (node) => {\n      const options = {\n        threshold: [0],\n      };\n      let shouldFetch = true;\n      var observer = new IntersectionObserver(function (entries, observer) {\n        if (entries[0].intersectionRatio > 0 && shouldFetch && offSetId) {\n          observer.disconnect();\n          dispatch(nextPage(offSetId, params)).then((status) => {\n            shouldFetch = false;\n            if (status === \"completed\") {\n              observer.observe(node);\n            }\n          });\n        }\n      }, options);\n      if (postsToDisplay.length > 0 && node && params.sort !== \"post\") {\n        observer.observe(node);\n      } else {\n        observer.disconnect();\n      }\n    },\n    [offSetId]\n  );\n  useEffect(() => {\n    const splitUrl = location.pathname.split(\"/\");\n    if (params.sort === \"post\" && dataLoaded === false) {\n      dispatch(fetchSinglePost(splitUrl[2]));\n      // dispatch(fetchPosts(query, id, params.sort === \"post\" ? null : params));\n    } else if (dataLoaded === false) {\n      dispatch(\n        fetchPosts(query, id, params.sort === \"post\" ? null : params)\n      ).then((data) => {\n        if (data === 200) {\n          setDataLoaded(true);\n        }\n      });\n    }\n  }, [params.sort]);\n  let listing = listingOrder[sortOrder];\n  const handlePostType = (type) => {\n    if (!loggedIn) {\n      props.handleShowLogin();\n    }\n    dispatch(newPostSubmissionType(type));\n    dispatch(submitPostAttempt());\n  };\n  if (!listing) {\n    return <div></div>;\n  }\n  return (\n    <>\n      <div\n        className={`home-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\n      >\n        {props.showSignup ? <Signup /> : null}\n        <div\n          className={`new-post-container ${\n            checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n          }`}\n        >\n          <Link to=\"\">\n            <img\n              className={`new-post-profile-image ${\n                checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n              }`}\n              src={defaultPic}\n              alt=\"\"\n            />\n          </Link>\n          <Link\n            onClick={() => handlePostType(\"post\")}\n            to={loggedIn ? \"/new-post\" : \"\"}\n            className=\"new-post-input-container\"\n          >\n            <input\n              placeholder=\"Create Post\"\n              className={`new-post-input ${\n                checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n              }`}\n              type=\"text\"\n            />\n          </Link>\n          <Link\n            onClick={() => handlePostType(\"media\")}\n            to={loggedIn ? \"/new-post?media=true\" : \"\"}\n          >\n            <img className=\"post-option\" src={imagePost} alt=\"\" />\n          </Link>\n          <Link\n            onClick={() => handlePostType(\"link\")}\n            to={loggedIn ? \"/new-post?link=true\" : \"\"}\n          >\n            <img className=\"post-option\" src={linkPost} alt=\"\" />\n          </Link>\n        </div>\n        <div\n          className={`categories-container ${\n            checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n          }`}\n        >\n          <Link\n            to=\"/hot\"\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\n            onClick={() =>\n              dispatch(fetchPosts(query, id, { sort: \"hot\" }, \"click\"))\n            }\n          >\n            Hot\n          </Link>\n          <Link\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\n            to=\"/new\"\n            onClick={() =>\n              dispatch(fetchPosts(query, id, { sort: \"new\" }, \"click\"))\n            }\n          >\n            New\n          </Link>\n          <Link\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\n            to=\"/top\"\n            onClick={() =>\n              dispatch(fetchPosts(query, id, { sort: \"top\" }, \"click\"))\n            }\n          >\n            Top\n          </Link>\n        </div>\n        <div className={\"posts-container\"}>\n          {postsToDisplay.map((post) => {\n            if (post) {\n              return <Post history={props} key={post._id} post={post} />;\n            }\n          })}\n          <div className=\"page-set-container\"></div>\n        </div>\n      </div>\n      <div className=\"loading-container\">\n        <div\n          className={postStatus === \"loading\" ? \"lds-dual-ring\" : \"inactive\"}\n        ></div>\n      </div>\n      <span ref={bottomRef}></span>\n    </>\n  );\n}\nexport default Home;\n","export default __webpack_public_path__ + \"static/media/magnifying-glass.4af3fe67.svg\";","export default __webpack_public_path__ + \"static/media/Triangle.145cb339.svg\";","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { fetchPosts } from \"../actions/postActions\";\nimport { logOut } from \"../actions/userActions\";\nimport searchicon from \"../images/magnifying-glass.svg\";\nimport defaultPic from \"../images/reddit-default.svg\";\nimport triangle from \"../images/Triangle.svg\";\nimport { DARK_MODE_ENABLED, DARK_MODE_DISABLED } from \"../types\";\nimport Brightness2OutlinedIcon from \"@material-ui/icons/Brightness2Outlined\";\nfunction Navbar(props) {\n  const [dropdown, setDropDown] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [authDropDown, setAuthDropDown] = useState(false);\n  const [searchContent, setSearchContent] = useState([]);\n  const [searchActive, setSearchActive] = useState(false);\n  const currentUser = useSelector((state) => {\n    return state.currentUser;\n  });\n  const loggedIn = useSelector((state) => {\n    return state.login.isLoggedIn;\n  });\n  const currentModal = useSelector((state) => {\n    return state.currentModal;\n  });\n  const dispatch = useDispatch();\n  const allIds = useSelector((state) => {\n    return state.posts.allIds;\n  });\n  const post = useSelector((state) => {\n    return state.posts.byId;\n  });\n  let flattened = allIds.map((x) => {\n    return post[x];\n  });\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const handleDropDown = () => {\n    setDropDown(!dropdown);\n  };\n  const handleDarkMode = () => {\n    dispatch({\n      type: checkDisplay === \"dark\" ? DARK_MODE_DISABLED : DARK_MODE_ENABLED,\n    });\n  };\n  let value;\n  const handleSearchContent = async (e) => {\n    setSearchInput(e.target.value);\n    value = e.target.value;\n    let trimmed = await value.trimStart();\n    let filtered = await flattened.filter((post) => {\n      const regex = new RegExp(`^` + trimmed, \"gi\");\n      return regex.test(post.title);\n    });\n    setSearchContent(filtered);\n  };\n  const handleCloseSearch = () => {\n    setSearchActive(!searchActive);\n  };\n  const handleLogout = () => {\n    dispatch(logOut()).then((data) => {\n      if (data.status === 200) {\n        window.location.reload();\n      }\n    });\n  };\n  let re = /^\\s+(?=[a-z0-9])|^[a-z0-9]/g;\n  const closeSearch = () => {\n    if (searchActive) {\n      setSearchActive(false);\n    }\n  };\n  const handleLogoClick = () => {\n    document.body.style.overflow = \"\";\n    if (currentModal.post.newPost) {\n    }\n    if (props.match.path === \"/\") {\n      dispatch(fetchPosts());\n    }\n  };\n  useEffect(() => {\n    document.title = \"Readit\";\n    document.body.addEventListener(\"click\", closeSearch);\n    return () => {\n      document.body.removeEventListener(\"click\", closeSearch);\n    };\n  }, [closeSearch]);\n  return (\n    <>\n      <div className={`navbar-wrapper `}>\n        <div\n          className={`navbar-container ${\n            checkDisplay === \"dark\" ? \"dark-mode-nav\" : \"\"\n          } `}\n        >\n          <div className=\"navbar-content\">\n            <li>\n              <Link\n                to={{ pathname: \"/\" }}\n                replace={props.history.location.pathname === \"/\" ? true : false}\n                onClick={handleLogoClick}\n                className=\"logo\"\n              >\n                readit\n              </Link>\n            </li>\n            <div className={\"search-bar-container\"}>\n              <input\n                onClick={handleCloseSearch}\n                onChange={(e) => handleSearchContent(e)}\n                className={`search-bar ${\n                  checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n                } `}\n                placeholder=\"Search\"\n                type=\"text\"\n              />\n              <span className=\"search-icon\">\n                <img src={searchicon} alt=\"\" />\n              </span>\n              <div\n                onClick={(e) => handleCloseSearch(e)}\n                className={`${\n                  searchActive\n                    ? `search-dropdown-container ${\n                        checkDisplay === \"dark\"\n                          ? \"dark-mode-search-dropdown\"\n                          : \"\"\n                      }`\n                    : \"inactive\"\n                }`}\n              >\n                {re.test(searchInput)\n                  ? searchContent.map((post) => {\n                      return (\n                        <>\n                          {\" \"}\n                          <div\n                            className={`search-dropdown-content ${\n                              !searchActive ? `hide-search` : null\n                            } `}\n                            key={post._id}\n                          >\n                            <Link\n                              className={`search-content-item ${\n                                checkDisplay === \"dark\"\n                                  ? \"dark-mode-dropdown-item\"\n                                  : \"\"\n                              }`}\n                              to={`/post/${post._id}`}\n                            >\n                              {post.title}\n                            </Link>\n                          </div>\n                        </>\n                      );\n                    })\n                  : null}\n              </div>\n            </div>\n            {!loggedIn ? (\n              <>\n                <Brightness2OutlinedIcon\n                  className={\n                    checkDisplay === \"dark\"\n                      ? \"outline-visible\"\n                      : \"brightness-icon\"\n                  }\n                  onClick={handleDarkMode}\n                />\n                <div className=\"auth-button-container-navbar\">\n                  <button\n                    className={checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}\n                    onClick={props.handleShowLogin}\n                  >\n                    log in\n                  </button>\n                  <button onClick={props.handleShowSignup}>sign up</button>\n                </div>\n                <div className=\"hamburger-container\">\n                  <div className=\"hamburger-button-container\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"trigger\"\n                      className={\"burger-input\"}\n                    />\n                    <label\n                      htmlFor=\"trigger\"\n                      className={`burger-label ${\n                        checkDisplay === \"dark\" ? \"dark-mode-burger\" : \"\"\n                      } `}\n                    >\n                      <div className={\"main-trigger-icon-container\"}>\n                        <span className={\"main-trigger-icon\"}></span>\n                      </div>\n                    </label>\n                    <div className=\"hamburger-item-container\">\n                      <li\n                        className={`hamburger-item ${\n                          checkDisplay === \"dark\"\n                            ? \"dark-mode-dropdown-item\"\n                            : \"\"\n                        } `}\n                      >\n                        <button\n                          className=\"hamburger-item-button\"\n                          onClick={props.handleShowLogin}\n                        >\n                          log in\n                        </button>\n                      </li>\n                      <li\n                        className={`hamburger-item ${\n                          checkDisplay === \"dark\"\n                            ? \"dark-mode-dropdown-item\"\n                            : \"\"\n                        } `}\n                      >\n                        <button\n                          className=\"hamburger-item-button\"\n                          onClick={props.handleShowSignup}\n                        >\n                          sign up\n                        </button>\n                      </li>\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <>\n                <Brightness2OutlinedIcon\n                  className={\n                    checkDisplay === \"dark\"\n                      ? \"outline-visible\"\n                      : \"brightness-icon\"\n                  }\n                  onClick={handleDarkMode}\n                />\n                <div className=\"profile-wrapper\">\n                  <button\n                    onClick={() => handleDropDown()}\n                    className={`navbar-profile-container ${\n                      checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n                    }`}\n                  >\n                    <div className=\"navbar-logo-text\">\n                      <img\n                        className={`default-profile-image ${\n                          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n                        }`}\n                        style={{ backgroundColor: \"rgba(0, 0, 0, 0.1)\" }}\n                        src={defaultPic}\n                        alt=\"\"\n                      />\n                      <p\n                        className={`navbar-profile-username ${\n                          checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n                        }`}\n                      >\n                        {currentUser.username}\n                      </p>\n                    </div>\n                    <img\n                      className=\"navbar-profile-triangle\"\n                      src={triangle}\n                      alt=\"\"\n                    />\n                  </button>\n                  {dropdown ? (\n                    <div className=\"navbar-dropdown-container\">\n                      <ul className=\"navbar-dropdown\">\n                        <li>\n                          <button\n                            onClick={handleLogout}\n                            className={`navbar-dropdown-options ${\n                              checkDisplay === \"dark\"\n                                ? \"navbar-dropdown-options-dark\"\n                                : \"\"\n                            }`}\n                          >\n                            Logout\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  ) : null}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      <div></div>\n    </>\n  );\n}\nexport default withRouter(Navbar);\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { changePostSubmissionType, submitPost } from \"../actions/postActions\";\nimport { loggedIn, loginStatus } from \"../actions/userActions\";\nconst NewPost = () => {\n  const useQuery = () => {\n    return new URLSearchParams(useLocation().search);\n  };\n  let query = useQuery();\n  let newQuery = query.get(\"media\");\n  let newQuery2 = query.get(\"link\");\n  let submissionType = useSelector((state) => {\n    return state.changeNewSubmissionType.submissionType;\n  });\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [title, setTitle] = useState(\"\");\n  const [text, setText] = useState(\"\");\n  const [imagedata, setImage] = useState(\"\");\n  const submitCheck = useSelector((state) => {\n    return state.posts.submitted;\n  });\n  const fetchingLogin = useSelector((state) => state.login.fetching);\n  const loggedInStatus = useSelector((state) => state.login.isLoggedIn);\n  const reRouteId = useSelector((state) => {\n    return state.posts.reRouteId;\n  });\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  useEffect(() => {}, []);\n  useEffect(() => {\n    if (newQuery) {\n      submissionType = \"media\";\n    } else if (newQuery2) {\n      submissionType = \"link\";\n    }\n    if (submitCheck) {\n      history.push(`/post/${reRouteId}`);\n    }\n  }, [submitCheck]);\n  if (fetchingLogin) {\n    return <div></div>;\n  }\n  const uploadForm = (e) => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"title\", title);\n    data.append(\"content\", text);\n    data.append(\"file\", imagedata);\n    dispatch(submitPost(data));\n  };\n  const handleFormType = () => {\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\n    dispatch(changePostSubmissionType(\"post\"));\n  };\n  const handleImageType = () => {\n    dispatch(changePostSubmissionType(\"media\"));\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\n  };\n  const handleLinkType = () => {\n    dispatch(changePostSubmissionType(\"link\"));\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\n  };\n  return (\n    <div\n      className={`newpost-wrapper ${\n        checkDisplay === \"dark\" ? \"dark-mode\" : \"\"\n      }`}\n    >\n      <div className=\"newpost-container\">\n        <p className=\"newpost-title\">Create a post</p>\n        <div\n          className={`newpost-template ${\n            checkDisplay === \"dark\" ? \"navbar-dropdown-options-dark\" : \"\"\n          }`}\n        >\n          <div className=\"newpost-options\">\n            <button\n              className={\n                submissionType === \"post\"\n                  ? `submit-type-button ${`selectedType`} ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    }`\n                  : `submit-type-button ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    } `\n              }\n              onClick={handleFormType}\n            >\n              Post\n            </button>\n            <button\n              className={\n                submissionType === \"media\"\n                  ? `submit-type-button ${`selectedType`} ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    }`\n                  : `submit-type-button ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    } `\n              }\n              onClick={handleImageType}\n            >\n              Images {\"&\"} Video\n            </button>\n            <button\n              className={\n                submissionType === \"link\"\n                  ? `submit-type-button ${`selectedType`} ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    }`\n                  : `submit-type-button ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    } `\n              }\n              onClick={handleLinkType}\n            >\n              Link\n            </button>\n          </div>\n          <form action=\"\">\n            <div className=\"newpost-title-container\">\n              <input\n                onChange={(e) => {\n                  setTitle(e.target.value);\n                }}\n                placeholder=\"Title\"\n                className={`newpost-title ${\n                  checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n                }`}\n                type=\"text\"\n              />\n            </div>\n            <div className=\"newpost-entry-container\">\n              {submissionType === \"media\" ? (\n                <div className=\"upload-input-container\">\n                  <input\n                    onChange={(e) => {\n                      setImage(e.target.files[0]);\n                    }}\n                    className=\"upload-input\"\n                    type=\"file\"\n                    name=\"\"\n                    id=\"file-input\"\n                  />\n                </div>\n              ) : (\n                <textarea\n                  onChange={(e) => {\n                    setText(e.target.value);\n                  }}\n                  placeholder=\"Text(optional)\"\n                  className={`newpost-entry ${\n                    checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n                  }`}\n                  name=\"\"\n                  id=\"\"\n                  cols=\"30\"\n                  rows=\"10\"\n                ></textarea>\n              )}\n              <div className=\"submission-button-container\">\n                <button\n                  type=\"submit\"\n                  onClick={(e) => uploadForm(e)}\n                  className={`submission-buttons ${\n                    checkDisplay === \"dark\" ? \"dark-mode-button\" : \"\"\n                  }`}\n                >\n                  Post\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default NewPost;\n","import axios from \"axios\";\nimport {\n  NEW_COMMENT_REQUEST,\n  NEW_COMMENT_SUCCESS,\n  NEW_REPLY_REQUEST,\n  NEW_REPLY_SUCCESS,\n  VOTE_CAST,\n} from \"../types\";\nexport function newCommentRequest() {\n  return {\n    type: NEW_COMMENT_REQUEST,\n  };\n}\nfunction newCommentSuccess(savedComment, postId, parentId) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: NEW_COMMENT_SUCCESS,\n      savedComment,\n      postId,\n      parentId,\n    });\n  };\n}\nexport function newComment(content, postId) {\n  return (dispatch, getState) => {\n    dispatch(newCommentRequest());\n    return axios({\n      url: \"/api/comment/new\",\n      method: \"POST\",\n      data: {\n        content,\n        postId,\n      },\n      withCredentials: true,\n    }).then((res) => {\n      dispatch(newCommentSuccess(res.data, postId));\n    });\n  };\n}\nexport function newReplyRequest() {\n  return {\n    type: NEW_REPLY_REQUEST,\n    test: {},\n  };\n}\nexport function test(test) {\n  return (dispatch, getState) => {\n    dispatch(test.push(\"sdfsdf\"));\n  };\n}\nexport function changeCommentPoint(point, postId, commentId) {\n  return (dispatch, getState) => {\n    const currentCommentId = commentId;\n    const currentComment = getState().comments.byId[currentCommentId];\n    const currentVoteState = currentComment.voteState;\n    dispatch({\n      type: VOTE_CAST,\n      point,\n      commentId,\n      currentVoteState,\n    });\n    if (point === 1) {\n      axios({\n        url: \"/api/comment/vote-up\",\n        method: \"PUT\",\n        data: {\n          postId,\n          commentId,\n        },\n        withCredentials: true,\n      });\n    } else if (point === -1) {\n      axios({\n        url: \"/api/comment/vote-down\",\n        method: \"PUT\",\n        data: {\n          postId,\n          commentId,\n        },\n        withCredentials: true,\n      });\n    }\n  };\n}\nexport function newReply(content, postId, commentId) {\n  return (dispatch, getState) =>\n    axios({\n      url: `/api/comments/${commentId}/replies`,\n      method: \"POST\",\n      data: {\n        content,\n        postId,\n      },\n      withCredentials: true,\n    }).then((res) => {\n      dispatch({\n        type: NEW_REPLY_SUCCESS,\n        reply: res.data,\n        postId,\n        commentId,\n      });\n    });\n}\n","export default __webpack_public_path__ + \"static/media/down-arrow.c9c98d5d.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M392.533,238.937c-9.426,0-17.067,7.641-17.067,17.067V426.67c0,9.426-7.641,17.067-17.067,17.067H51.2 c-9.426,0-17.067-7.641-17.067-17.067V85.337c0-9.426,7.641-17.067,17.067-17.067H256c9.426,0,17.067-7.641,17.067-17.067 S265.426,34.137,256,34.137H51.2C22.923,34.137,0,57.06,0,85.337V426.67c0,28.277,22.923,51.2,51.2,51.2h307.2 c28.277,0,51.2-22.923,51.2-51.2V256.003C409.6,246.578,401.959,238.937,392.533,238.937z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M458.742,19.142c-12.254-12.256-28.875-19.14-46.206-19.138c-17.341-0.05-33.979,6.846-46.199,19.149L141.534,243.937 c-1.865,1.879-3.272,4.163-4.113,6.673l-34.133,102.4c-2.979,8.943,1.856,18.607,10.799,21.585 c1.735,0.578,3.552,0.873,5.38,0.875c1.832-0.003,3.653-0.297,5.393-0.87l102.4-34.133c2.515-0.84,4.8-2.254,6.673-4.13 l224.802-224.802C484.25,86.023,484.253,44.657,458.742,19.142z\"\n})));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 477.873 477.873\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.b8f7584a.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/up-arrow.927fb299.svg\";","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  changeCommentPoint,\n  newReply,\n  newReplyRequest,\n} from \"../actions/commentActions\";\nimport downvote, {\n  ReactComponent as DownArrow,\n} from \"../images/down-arrow.svg\";\nimport upvote, { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\nconst Comment = ({ comment, handleShowLogin }) => {\n  const [lines, setLines] = useState([]);\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\n  const dispatch = useDispatch();\n  const [replyText, setReplyText] = useState(\"\");\n  const [replyToggle, setReplyToggle] = useState(false);\n  const voteUp = () => {\n    if (loggedIn) {\n      dispatch(changeCommentPoint(1, comment.postId, comment._id));\n    } else {\n      handleShowLogin();\n    }\n  };\n  const voteDown = () => {\n    if (loggedIn) {\n      dispatch(changeCommentPoint(-1, comment.postId, comment._id));\n    } else {\n      handleShowLogin();\n    }\n  };\n  const handleReplyToggle = () => {\n    setReplyToggle(!replyToggle);\n    dispatch(newReplyRequest());\n  };\n  const handleReply = () => {\n    let commentId = comment._id;\n    dispatch(newReply(replyText, comment.postId, commentId));\n    setReplyToggle(false);\n    setReplyText(\"\");\n  };\n  useEffect(() => {\n    let linesArr = [];\n    for (let i = 0; i <= comment.depth; i++) {\n      linesArr.push(\n        <div\n          key={comment._id + \"line\" + i}\n          style={{\n            left: i === 0 ? 0 : i * 23,\n          }}\n          className=\"thread-line-container\"\n        >\n          <li className=\"thread-line\"></li>\n        </div>\n      );\n    }\n    setLines(linesArr);\n  }, [comment]);\n  if (!comment || typeof comment.depth !== \"number\") {\n    return null;\n  }\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        paddingLeft: comment.depth === 0 ? 15 : comment.depth * 23 + 15,\n        paddingTop: \"10px\",\n      }}\n    >\n      {lines.map((line) => {\n        return line;\n      })}\n      <div className=\"comment-vote-title-container\">\n        {\" \"}\n        <div className=\"comment-vote-container\">\n          <div className=\"comment-vote-button-container\">\n            <UpArrow\n              className={\n                comment.voteState === 1\n                  ? \"comment-vote-button-color\"\n                  : `${\n                      checkDisplay === \"dark\"\n                        ? \"dark-mode-arrow\"\n                        : \"comment-vote-button\"\n                    }`\n              }\n              src={upvote}\n              onClick={voteUp}\n              alt=\"\"\n            />\n            <span className={checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"}>\n              {comment.voteTotal}\n            </span>\n            <DownArrow\n              className={\n                comment.voteState === -1\n                  ? `comment-vote-button-color`\n                  : `${\n                      checkDisplay === \"dark\"\n                        ? \"dark-mode-arrow\"\n                        : \"comment-vote-button\"\n                    }`\n              }\n              src={downvote}\n              onClick={voteDown}\n            />\n          </div>\n        </div>\n        <div className=\"comment-container\">\n          <p\n            className={`comment-author ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            {comment.authorName}\n          </p>\n          <div\n            className={`parent-comment ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            {comment.content}\n          </div>\n          <div className=\"reply-button-container\">\n            {loggedIn ? (\n              <button onClick={handleReplyToggle} className=\"reply-button\">\n                Reply\n              </button>\n            ) : null}\n            {replyToggle ? (\n              <div className=\"new-comment-container\">\n                <textarea\n                  value={replyText}\n                  onChange={(e) => {\n                    setReplyText(e.target.value);\n                  }}\n                  placeholder=\"What are your thoughts?\"\n                  className=\"new-comment reply-textarea\"\n                  rows=\"6\"\n                ></textarea>\n                <div className=\"submit-comment-container\">\n                  <button\n                    onClick={handleReply}\n                    className=\"submit-comment-button\"\n                  >\n                    Reply\n                  </button>\n                </div>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default React.memo(Comment, (prev, next) => {\n  if (prev.comment.voteState === next.comment.voteState) {\n    return true;\n  }\n});\n","import React, { useState } from \"react\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { newComment } from \"../actions/commentActions\";\nimport { changePoint, editPost } from \"../actions/postActions\";\nimport downvote, {\n  ReactComponent as DownArrow,\n} from \"../images/down-arrow.svg\";\nimport { ReactComponent as Edit } from \"../images/edit.svg\";\nimport upvote, { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\nimport Comment from \"./Comment\";\nconst PostModal = (props) => {\n  const params = useParams();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [commentText, setCommentText] = useState(\"\");\n  const [edit, setEdit] = useState(false);\n  const [editText, setEditText] = useState(\"\");\n  const currentUser = useSelector((state) => state.currentUser._id);\n  const comments = useSelector((state) => {\n    return state.comments.byId;\n  });\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\n  let currentPost = props.post;\n  const back = (e) => {\n    e.stopPropagation();\n  };\n  const handleReroute = () => {\n    history.push(\"/\");\n  };\n  const handleSubmitComment = () => {\n    dispatch(newComment(commentText, props.post._id));\n    setCommentText(\"\");\n  };\n  const handleUpvote = () => {\n    if (loggedIn) {\n      dispatch(changePoint(1, params.id));\n    } else {\n      props.handleShowLogin();\n    }\n  };\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const handleDownVote = () => {\n    if (loggedIn) {\n      dispatch(changePoint(-1, params.id));\n    } else {\n      props.handleShowLogin();\n    }\n  };\n  const handleEdit = () => {\n    setEdit(true);\n  };\n  const handleCancelEdit = () => {\n    setEdit(false);\n  };\n  const saveEdit = (id) => {\n    dispatch(editPost(id, editText));\n    setEdit(false);\n  };\n  if (!currentPost) {\n    return <div></div>;\n  }\n  const date = new Date(currentPost.createdAt);\n  const formatDate = new Intl.DateTimeFormat(\"en-US\", {}).format(date);\n  const commentsArr = [];\n  const findAllComments = (currentComments) => {\n    const dict = comments;\n    for (let i = 0; i < currentComments.length; i++) {\n      commentsArr.push(currentComments[i]);\n      if (currentComments[i].comments.length > 0) {\n        const nested = currentComments[i].comments.map((id) => {\n          return comments[id];\n        });\n        findAllComments(nested);\n      }\n    }\n    return [];\n  };\n  const postComments = currentPost.comments.map((id) => {\n    return comments[id];\n  });\n  if (postComments.length > 1) {\n    findAllComments(postComments);\n  }\n  return (\n    <div\n      onClick={handleReroute}\n      className={`modal-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\n    >\n      <input type=\"checkbox\" id=\"trigger\" className={\"burger-input\"} />\n      <label\n        htmlFor=\"trigger\"\n        className={`close-label ${\n          checkDisplay === \"dark\" ? \"dark-mode-burger\" : \"\"\n        }`}\n      >\n        <div onClick={handleReroute} className={\"main-close-icon-container\"}>\n          <span className={\"main-close-icon\"}></span>\n        </div>\n      </label>\n      <div\n        onClick={back}\n        className={`card-modal ${\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n        }`}\n      >\n        {currentPost.author ? (\n          <>\n            <p className=\"card-modal-author\">\n              {\" \"}\n              u/{currentPost.author.username}\n            </p>\n            <p\n              className={`modal-date ${\n                checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n              }`}\n            >\n              {formatDate}\n            </p>\n            <h4\n              className={`card-modal-title ${\n                checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n              }`}\n            >\n              {currentPost.title}\n            </h4>\n            {currentUser === currentPost.author._id ? (\n              <div className=\"edit-container\">\n                <p\n                  className={`card-modal-content ${edit ? \"inactive\" : null} `}\n                >\n                  {currentPost.content}\n                </p>\n                <textarea\n                  onChange={(e) => {\n                    setEditText(e.target.value);\n                  }}\n                  className={edit ? \"edit-text-area\" : \"inactive\"}\n                  value={editText}\n                ></textarea>\n                <div className={edit ? `edit-button-container` : `inactive`}>\n                  <button\n                    onClick={() => saveEdit(currentPost._id)}\n                    className=\"edit-submit-button\"\n                  >\n                    Save\n                  </button>\n                  <button\n                    onClick={handleCancelEdit}\n                    className=\"edit-cancel-button\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n                <button\n                  className={`edit-button ${edit ? \"inactive\" : null}`}\n                  onClick={handleEdit}\n                >\n                  <Edit />\n                </button>\n              </div>\n            ) : null}\n            <div className=\"post-image-container\">\n              <img className=\"post-image\" src={props.post.image} alt=\"\" />\n            </div>\n            {currentUser ? (\n              <div className=\"new-comment-container\">\n                <textarea\n                  className=\"new-comment\"\n                  name=\"\"\n                  id=\"\"\n                  placeholder=\"What are your thoughts?\"\n                  rows=\"6\"\n                  value={commentText}\n                  onChange={(e) => setCommentText(e.target.value)}\n                ></textarea>\n                <span className=\"submit-comment-container\">\n                  <button\n                    onClick={() => {\n                      handleSubmitComment();\n                    }}\n                    className=\"submit-comment-button\"\n                  >\n                    Comment\n                  </button>\n                </span>\n              </div>\n            ) : (\n              <div\n                className={`no-user-comment-container ${\n                  checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n                } `}\n              >\n                <p className=\"no-user-comment\">\n                  Log in or sign up to leave a comment\n                </p>\n                <div className=\"auth-button-container\">\n                  <button\n                    className={checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}\n                    onClick={props.handleShowLogin}\n                  >\n                    log in\n                  </button>\n                  <button onClick={props.handleShowSignup}>sign up</button>\n                </div>\n              </div>\n            )}\n            <div className=\"card-modal-vote-container\">\n              <li onClick={handleUpvote}>\n                <UpArrow\n                  className={\n                    currentPost.voteState === 1\n                      ? `vote-button-color`\n                      : `${\n                          checkDisplay === \"dark\"\n                            ? \"dark-mode-arrow\"\n                            : \"vote-button\"\n                        }`\n                  }\n                  src={upvote}\n                  alt=\"\"\n                />\n              </li>\n              <li className={checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"}>\n                {currentPost.voteTotal}\n              </li>\n              <li onClick={handleDownVote}>\n                <DownArrow\n                  className={\n                    currentPost.voteState === -1\n                      ? `vote-button-color`\n                      : `${\n                          checkDisplay === \"dark\"\n                            ? \"dark-mode-arrow\"\n                            : \"vote-button\"\n                        }`\n                  }\n                  src={downvote}\n                  alt=\"\"\n                />\n              </li>\n            </div>\n            <h4\n              className={`comment-section-header ${\n                checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n              } `}\n            >\n              Comments\n            </h4>\n            <div className=\"main-comment-container\">\n              {props.post.comments.length > 0 &&\n                commentsArr.map((comment) => {\n                  return (\n                    <Comment\n                      allComments={comments}\n                      handleShowLogin={props.handleShowLogin}\n                      key={comment._id}\n                      comment={comment}\n                    />\n                  );\n                })}\n            </div>\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n};\nfunction mapStateToProps(state, ownProps) {\n  let id = ownProps.match.params.id;\n  let post;\n  post = state.posts.byId[id];\n  return {\n    post: post,\n  };\n}\nexport default connect(mapStateToProps)(PostModal);\n","import React, { useEffect, useState } from \"react\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { nextPage } from \"./actions/postActions\";\nimport { clearLoginModal, loggedIn } from \"./actions/userActions\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Navbar from \"./components/Navbar\";\nimport NewPost from \"./components/NewPost\";\nimport PostModal from \"./components/PostModal\";\nimport Signup from \"./components/Signup\";\nimport \"./styles/myApp.scss\";\nfunction App(props) {\n  const [showLogin, setLogin] = useState(false);\n  const [darkMode, setDarkMode] = useState(false);\n  const [fetchingLogin, setFetchingLogin] = useState(true);\n  const [showSignup, setShowSignup] = useState(false);\n  const loggedInStatus = useSelector((state) => state.currentUser.isLoggedIn);\n  const signedUpStatus = useSelector((state) => state.signup.isSignedUp);\n  const dispatch = useDispatch();\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  useEffect(() => {\n    dispatch(loggedIn()).then((data) => {\n      if (data) {\n        setFetchingLogin(false);\n      }\n    });\n  }, [dispatch]);\n  useEffect(() => {\n    if (loggedInStatus) {\n      setLogin(false);\n    }\n    if (signedUpStatus && !loggedInStatus) {\n      setShowSignup(false);\n      setLogin(true);\n    }\n  }, [loggedInStatus, signedUpStatus]);\n  const handleShowLogin = () => {\n    setLogin(!showLogin);\n  };\n  const handleShowSignup = () => {\n    setShowSignup(!showSignup);\n  };\n  const closeModal = () => {\n    dispatch(clearLoginModal());\n    setLogin(false);\n    setShowSignup(false);\n  };\n  const handleShowNextPage = (lastId, sort) => {\n    dispatch(nextPage(lastId, sort));\n  };\n  return (\n    <div\n      id=\"scroll-wrapper\"\n      className={`app-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\n    >\n      {showLogin ? <Login close={closeModal} /> : null}\n      {showSignup ? <Signup close={closeModal} /> : null}\n      <Navbar\n        handleShowLogin={handleShowLogin}\n        handleShowSignup={handleShowSignup}\n      />\n      <Route\n        exact\n        path=\"/post/:id\"\n        render={(props) => {\n          return (\n            <PostModal\n              handleShowLogin={handleShowLogin}\n              handleShowSignup={handleShowSignup}\n              {...props}\n            />\n          );\n        }}\n      />\n      <Switch>\n        <Route\n          exact\n          path=\"/new-post\"\n          render={(props) => {\n            return <NewPost {...props} />;\n          }}\n        >\n          {!fetchingLogin && !props.loggedIn ? <Redirect to=\"/\" /> : null}\n        </Route>\n        <Route\n          path={[\"/:sort\", \"/\"]}\n          render={(props2) => {\n            return (\n              <Home\n                handleShowLogin={handleShowLogin}\n                handleShowSignup={handleShowSignup}\n                handleShowNextPage={handleShowNextPage}\n                {...props2}\n                test={props.posts}\n              />\n            );\n          }}\n          showLogin={showLogin}\n          showSignup={showSignup}\n        />\n      </Switch>\n    </div>\n  );\n}\nfunction mapStateToProps(state, ownProps) {\n  let loggedInStatus = state.login.isLoggedIn;\n  return {\n    loggedIn: loggedInStatus,\n  };\n}\nexport default connect(mapStateToProps)(App);\n","import { combineReducers } from \"redux\";\nimport {\n  CLEAR_ERROR,\n  CLEAR_LOGIN_MODAL,\n  CURRENT_USER,\n  DARK_MODE_ENABLED,\n  DELETE_POST,\n  EDIT_POST,\n  LOGIN_ERROR,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOG_OUT,\n  NEW_COMMENT_SUCCESS,\n  NEW_POST_REQUEST,\n  NEW_POST_SUCCESS,\n  NEW_REPLY_REQUEST,\n  NEW_REPLY_SUCCESS,\n  NEXT_PAGE,\n  POST_CREATION_CHANGE_SUBMISSION_TYPE,\n  PREV_PAGE,\n  RECEIVE_POSTS,\n  RECEIVE_SINGLE_POSTS,\n  REFRESH_USER,\n  REQUEST_POSTS,\n  REQUEST_USER_INFO,\n  SET_POST_MODAL,\n  SIGNUP_ERROR,\n  SIGNUP_REQUEST,\n  SIGNUP_SUCCESS,\n  SORT_POSTS,\n  SPLICED_POST,\n  UNAUTHORIZED_ERROR,\n  VOTE_CAST,\n  DARK_MODE_DISABLED,\n} from \"../types\";\nfunction combineArrays(arr1, arr2) {\n  let combined = arr1.concat(arr2);\n  let set = new Set(combined);\n  return [...set];\n}\nfunction addComment(state, action) {\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [action.postId]: {\n        ...state.byId[action.postId],\n        comments: [\n          ...state.byId[action.postId].comments,\n          action.savedComment._id,\n        ],\n      },\n    },\n  };\n}\nfunction changePostPoint(state, action) {\n  const { postId } = action;\n  const { point } = action;\n  const { currentVoteState } = action;\n  const post = state.byId[postId];\n  if (action.commentId) {\n    return state;\n  } else {\n    if (currentVoteState === 1 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: 0,\n            voteTotal: state.byId[postId].voteTotal - 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 0 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: 1,\n            voteTotal: state.byId[postId].voteTotal + 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 1 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: -1,\n            voteTotal: state.byId[postId].voteTotal - 2,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 0 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: -1,\n            voteTotal: state.byId[postId].voteTotal - 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === -1 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: 0,\n            voteTotal: state.byId[postId].voteTotal + 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === -1 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: 1,\n            voteTotal: state.byId[postId].voteTotal + 2,\n          },\n        },\n      };\n    }\n  }\n}\nfunction handlePostSubmission(state, action) {\n  const { post, id } = action;\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [id]: post,\n    },\n    allIds: [...state.allIds, id],\n    submitting: false,\n    createdPosts: {\n      ...state.createdPosts,\n      [id]: post,\n    },\n    submitted: true,\n    reRouteId: id,\n  };\n}\nfunction editPostReduce(state, action) {\n  const { postId, content } = action;\n  const post = state.byId[postId];\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [postId]: {\n        ...post,\n        content: content,\n      },\n    },\n  };\n}\nfunction handlePreviousPage(state, action) {\n  let allIds = state.allIds;\n  let incomingIds = action.normalizedData.result;\n  let set = new Set(incomingIds.concat(allIds));\n  return {\n    ...state,\n    isFetching: false,\n    byId: {\n      ...state.byId,\n      ...action.normalizedData.entities.posts,\n    },\n    status: \"succeeded\",\n    allIds: [...set],\n  };\n}\nfunction handleNextPage(state, action) {\n  let allIds = state.allIds;\n  let incomingIds = action.normalizedData.result;\n  let set = new Set(allIds.concat(incomingIds));\n  return {\n    ...state,\n    isFetching: false,\n    byId: {\n      ...state.byId,\n      ...action.normalizedData.entities.posts,\n    },\n    offset: action.offset,\n    status: \"succeeded\",\n    allIds: [...set],\n  };\n}\nfunction setListings(state, action, prev) {\n  return {\n    ...state,\n    status: \"completed\",\n    sortOrder: action.sort,\n    listingOrder: {\n      ...state.listingOrder,\n      [action.sort]: combineArrays(\n        state.listingOrder[action.sort] ? state.listingOrder[action.sort] : [],\n        action.normalizedData.result\n      ),\n    },\n  };\n}\nfunction listings(\n  state = {\n    sortOrder: \"default\",\n    listingOrder: {},\n    status: \"idle\",\n  },\n  action\n) {\n  switch (action.type) {\n    case SORT_POSTS:\n      return setListings(state, action);\n    case REQUEST_POSTS:\n      return action.e\n        ? Object.assign({}, state, {\n            status: \"loading\",\n          })\n        : state;\n    case DELETE_POST:\n      const filteredPosts = state.listingOrder[state.sortOrder].filter((id) => {\n        return id !== action.postId;\n      });\n      return {\n        ...state,\n        listingOrder: {\n          ...state.listingOrder,\n          [state.sortOrder]: [...filteredPosts],\n        },\n      };\n    case PREV_PAGE:\n      return setListings(state, action, \"prev\");\n    case NEXT_PAGE:\n      return setListings(state, action);\n    case RECEIVE_POSTS:\n      return setListings(state, action);\n    default:\n      return state;\n  }\n}\nfunction receievePosts(state, action) {\n  let allIds = state.allIds;\n  let incomingIds = action.normalizedData.result;\n  let set = new Set(allIds.concat(incomingIds));\n  return {\n    ...state,\n    isFetching: false,\n    byId: {\n      ...state.byId,\n      ...action.normalizedData.entities.posts,\n    },\n    offset: action.offset,\n    status: \"completed\",\n    allIds: [...set],\n  };\n}\nfunction posts(\n  state = {\n    isFetching: false,\n    byId: {},\n    allIds: [],\n    offset: null,\n    submitted: false,\n    err: null,\n    createdPosts: {},\n    submitting: false,\n    reRouteId: null,\n    status: \"idle\",\n    firstId: \"\",\n    lastId: \"\",\n  },\n  action\n) {\n  switch (action.type) {\n    case SORT_POSTS:\n      return Object.assign({}, state, {\n        status: \"idle\",\n        offset: action.offset,\n      });\n    case PREV_PAGE:\n      return handlePreviousPage(state, action);\n    case NEXT_PAGE:\n      return handleNextPage(state, action);\n    case REQUEST_POSTS:\n      return Object.assign({}, state, {\n        isFetching: true,\n        status: \"loading\",\n      });\n    case SPLICED_POST:\n      return Object.assign({}, state, {\n        byId: action.newObj,\n        allIds: action.splicedArray,\n        createdPosts: {},\n      });\n    case RECEIVE_SINGLE_POSTS:\n      return receievePosts(state, action);\n    case RECEIVE_POSTS:\n      return receievePosts(state, action);\n    case VOTE_CAST:\n      return changePostPoint(state, action);\n    case DELETE_POST:\n      const allIds = state.allIds;\n      const filteredPosts = allIds.filter((id) => {\n        return id !== action.postId;\n      });\n      return Object.assign({}, state, {\n        allIds: filteredPosts,\n      });\n    case NEW_COMMENT_SUCCESS:\n      return addComment(state, action);\n    case NEW_POST_REQUEST:\n      return Object.assign({}, state, {\n        submitted: false,\n        submitting: true,\n        reRouteId: \"\",\n      });\n    case EDIT_POST:\n      return editPostReduce(state, action);\n    case NEW_POST_SUCCESS:\n      return handlePostSubmission(state, action);\n    default:\n      return state;\n  }\n}\nfunction setPostModal(state, action) {\n  const { post } = action;\n  return {\n    ...state,\n    post,\n  };\n}\nfunction currentModal(\n  state = {\n    post: {},\n  },\n  action\n) {\n  switch (action.type) {\n    case SET_POST_MODAL:\n      return setPostModal(state, action);\n    case NEW_POST_SUCCESS:\n      return Object.assign({}, state, {\n        post: action.post,\n      });\n    default:\n      return state;\n  }\n}\nfunction addCommentEntry(state, action) {\n  const { savedComment } = action;\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [action.savedComment._id]: {\n        ...state.byId[savedComment._id],\n        ...action.savedComment,\n      },\n    },\n  };\n}\nfunction changeCommentPoint(state, action) {\n  if (action.commentId) {\n    const { commentId } = action;\n    const { point } = action;\n    const { currentVoteState } = action;\n    const comment = state.byId[commentId];\n    if (currentVoteState === 1 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: 0,\n            voteTotal: state.byId[commentId].voteTotal - 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 0 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: 1,\n            voteTotal: state.byId[commentId].voteTotal + 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 1 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: -1,\n            voteTotal: state.byId[commentId].voteTotal - 2,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 0 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: -1,\n            voteTotal: state.byId[commentId].voteTotal - 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === -1 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: 0,\n            voteTotal: state.byId[commentId].voteTotal + 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === -1 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: 1,\n            voteTotal: state.byId[commentId].voteTotal + 2,\n          },\n        },\n      };\n    }\n  } else {\n    return state;\n  }\n}\nconst newReply = (state, action) => {\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [action.commentId]: {\n        ...state.byId[action.commentId],\n        comments: [...state.byId[action.commentId].comments, action.reply._id],\n      },\n      [action.reply._id]: action.reply,\n    },\n  };\n};\nfunction comments(\n  state = {\n    byId: {},\n    allId: [],\n  },\n  action\n) {\n  switch (action.type) {\n    case RECEIVE_SINGLE_POSTS: {\n      return Object.assign({}, state, {\n        byId: {\n          ...state.byId,\n          ...action.normalizedData.entities.comments,\n        },\n      });\n    }\n    case RECEIVE_POSTS: {\n      return Object.assign({}, state, {\n        byId: {\n          ...state.byId,\n          ...action.normalizedData.entities.comments,\n        },\n      });\n    }\n    case NEW_REPLY_SUCCESS:\n      return newReply(state, action);\n    case VOTE_CAST:\n      return changeCommentPoint(state, action);\n    case NEW_COMMENT_SUCCESS:\n      return addCommentEntry(state, action);\n    case NEW_REPLY_REQUEST:\n      return Object.assign({}, state, {});\n    default:\n      return state;\n  }\n}\nfunction changeNewSubmissionType(\n  state = {\n    submissionType: \"\",\n  },\n  action\n) {\n  switch (action.type) {\n    case POST_CREATION_CHANGE_SUBMISSION_TYPE:\n      return Object.assign({}, state, {\n        submissionType: action.postType,\n      });\n    default:\n      return state;\n  }\n}\nfunction signup(\n  state = {\n    isSigningUp: false,\n    isSignedUp: false,\n    err: null,\n    passwordError: null,\n  },\n  action\n) {\n  const { passwordError } = action;\n  switch (action.type) {\n    case SIGNUP_REQUEST:\n      return Object.assign({}, state, {\n        err: null,\n        passwordError: null,\n      });\n    case SIGNUP_SUCCESS:\n      return Object.assign({}, state, {\n        isSignedUp: true,\n        isSigningUp: false,\n        err: null,\n        passwordError: null,\n      });\n    case CLEAR_ERROR:\n      return Object.assign({}, state, {\n        err: null,\n      });\n    case SIGNUP_ERROR:\n      return Object.assign({}, state, {\n        err: action.error,\n        passwordError,\n      });\n    default:\n      return state;\n  }\n}\nfunction login(\n  state = {\n    isLoggingIn: false,\n    isLoggedIn: false,\n    err: null,\n    fetching: false,\n  },\n  action\n) {\n  switch (action.type) {\n    case REQUEST_USER_INFO:\n      return Object.assign({}, state, {\n        isLoggedIn: true,\n        fetching: true,\n      });\n    case CURRENT_USER:\n      return Object.assign({}, state, {\n        fetching: false,\n      });\n    case UNAUTHORIZED_ERROR:\n      return Object.assign({}, state, {\n        err: \"Username or Password do not match\",\n      });\n    case CLEAR_LOGIN_MODAL:\n      return Object.assign({}, state, {\n        err: null,\n      });\n    case LOGIN_REQUEST:\n      return Object.assign({}, state, {\n        isLoggingIn: true,\n        isLoggedIn: false,\n      });\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, {\n        isLoggingIn: false,\n        isLoggedIn: true,\n      });\n    case LOG_OUT:\n      return Object.assign({}, state, {\n        isLoggingIn: false,\n        isLoggedIn: false,\n      });\n    case LOGIN_ERROR:\n      return Object.assign({}, state, {\n        isLoggingIn: false,\n        isLoggedIn: false,\n      });\n    default:\n      return state;\n  }\n}\nfunction currentUser(\n  state = {\n    username: \"\",\n    _id: \"\",\n    err: null,\n  },\n  action\n) {\n  switch (action.type) {\n    case LOG_OUT:\n      return Object.assign({}, state, {\n        username: null,\n        _id: null,\n      });\n    case REFRESH_USER:\n      return Object.assign({}, state, {\n        username: action.userInfo.username,\n        _id: action.userInfo._id,\n      });\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, {\n        username: action.username,\n        _id: action.id,\n      });\n    case CURRENT_USER:\n      return Object.assign({}, state, {\n        isLoggedIn: true,\n        username: action.username,\n        _id: action.user,\n      });\n    default:\n      return state;\n  }\n}\nexport function display(\n  state = {\n    display: \"default\",\n  },\n  action\n) {\n  switch (action.type) {\n    case DARK_MODE_ENABLED:\n      return Object.assign({}, state, {\n        display: \"dark\",\n      });\n    case DARK_MODE_DISABLED:\n      return Object.assign({}, state, {\n        display: \"default\",\n      });\n    default:\n      return state;\n  }\n}\nconst rootReducer = combineReducers({\n  comments,\n  display,\n  currentModal,\n  changeNewSubmissionType,\n  posts,\n  login,\n  signup,\n  currentUser,\n  listings,\n});\nexport default rootReducer;\n","import { createBrowserHistory } from \"history\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { Router } from \"react-router\";\nimport { Route } from \"react-router-dom\";\nimport App from \"./App\";\nimport configureStore from \"./store/store\";\nconst store = configureStore();\nconst history = createBrowserHistory();\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router history={history}>\n        <Route component={App} />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { loadState } from \"../localStorage\";\nimport rootReducer from \"../reducers/reducer\";\nexport default function configureStore(preloadedState) {\n  const persistedState = loadState();\n  const composeEnhancers = composeWithDevTools({ trace: true });\n  return createStore(\n    rootReducer,\n    persistedState,\n    composeEnhancers(applyMiddleware(thunkMiddleware))\n  );\n}\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"state\", serializedState);\n  } catch {}\n};\n"],"sourceRoot":""}